---

title: Title


keywords: fastai
sidebar: home_sidebar



nb_path: "notebooks/01_base.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/01_base.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SEPARATOR_TOKEN</span> <span class="o">=</span> <span class="s1">'&lt;|endoftext|&gt;'</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h2 id="Message" class="doc_header"><code>class</code> <code>Message</code><a href="https://github.com/seii-saintway/biobot/tree/master/biobot/base.py#L13" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Message</code>(<strong><code>user</code></strong>:<code>str</code>, <strong><code>text</code></strong>:<code>Optional</code>[<code>str</code>]=<em><code>None</code></em>)</p>
</blockquote>
<p>Message(user: str, text: Optional[str] = None)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Message</span><span class="p">:</span>
    <span class="n">user</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">+</span> <span class="s1">':'</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="s1">' '</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h2 id="Conversation" class="doc_header"><code>class</code> <code>Conversation</code><a href="https://github.com/seii-saintway/biobot/tree/master/biobot/base.py#L25" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Conversation</code>(<strong><code>messages</code></strong>:<code>List</code>[<a href="/biobot/base.html#Message"><code>Message</code></a>])</p>
</blockquote>
<p>Conversation(messages: List[biobot.base.Message])</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Conversation</span><span class="p">:</span>
    <span class="n">messages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Message</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">prepend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">messages</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">'</span><span class="se">\n</span><span class="si">{</span><span class="n">SEPARATOR_TOKEN</span><span class="si">}</span><span class="s1">'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="p">[</span><span class="n">message</span><span class="o">.</span><span class="n">render</span><span class="p">()</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">messages</span><span class="p">]</span>
        <span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h2 id="Config" class="doc_header"><code>class</code> <code>Config</code><a href="https://github.com/seii-saintway/biobot/tree/master/biobot/base.py#L39" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Config</code>(<strong><code>name</code></strong>:<code>str</code>, <strong><code>instructions</code></strong>:<code>str</code>, <strong><code>example_conversations</code></strong>:<code>List</code>[<a href="/biobot/base.html#Conversation"><code>Conversation</code></a>])</p>
</blockquote>
<p>Config(name: str, instructions: str, example_conversations: List[biobot.base.Conversation])</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">instructions</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">example_conversations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Conversation</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_markdown rendered_html output_subarea ">
<h2 id="Prompt" class="doc_header"><code>class</code> <code>Prompt</code><a href="https://github.com/seii-saintway/biobot/tree/master/biobot/base.py#L46" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Prompt</code>(<strong><code>header</code></strong>:<a href="/biobot/base.html#Message"><code>Message</code></a>, <strong><code>examples</code></strong>:<code>List</code>[<a href="/biobot/base.html#Conversation"><code>Conversation</code></a>], <strong><code>convo</code></strong>:<a href="/biobot/base.html#Conversation"><code>Conversation</code></a>)</p>
</blockquote>
<p>Prompt(header: biobot.base.Message, examples: List[biobot.base.Conversation], convo: biobot.base.Conversation)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Prompt</span><span class="p">:</span>
    <span class="n">header</span><span class="p">:</span> <span class="n">Message</span>
    <span class="n">examples</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Conversation</span><span class="p">]</span>
    <span class="n">convo</span><span class="p">:</span> <span class="n">Conversation</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">'</span><span class="se">\n</span><span class="si">{</span><span class="n">SEPARATOR_TOKEN</span><span class="si">}</span><span class="s1">'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">render</span><span class="p">()]</span>
            <span class="o">+</span> <span class="p">[</span><span class="n">Message</span><span class="p">(</span><span class="s1">'System'</span><span class="p">,</span> <span class="s1">'Example conversations:'</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()]</span>
            <span class="o">+</span> <span class="p">[</span><span class="n">conversation</span><span class="o">.</span><span class="n">render</span><span class="p">()</span> <span class="k">for</span> <span class="n">conversation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">examples</span><span class="p">]</span>
            <span class="o">+</span> <span class="p">[</span><span class="n">Message</span><span class="p">(</span><span class="s1">'System'</span><span class="p">,</span> <span class="s1">'Current conversation:'</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()]</span>
            <span class="o">+</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">convo</span><span class="o">.</span><span class="n">render</span><span class="p">()],</span>
        <span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="s1">'Here are some base data types.'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&#39;Here are some base data types.&#39;
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>


